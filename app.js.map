{"version":3,"sources":["node_modules/mithril/api/autoredraw.js","node_modules/mithril/api/mount.js","node_modules/mithril/api/pubsub.js","node_modules/mithril/api/router.js","node_modules/mithril/api/throttle.js","node_modules/mithril/hyperscript.js","node_modules/mithril/index.js","node_modules/mithril/mount.js","node_modules/mithril/querystring/build.js","node_modules/mithril/querystring/parse.js","node_modules/mithril/redraw.js","node_modules/mithril/render.js","node_modules/mithril/render/fragment.js","node_modules/mithril/render/hyperscript.js","node_modules/mithril/render/render.js","node_modules/mithril/render/trust.js","node_modules/mithril/render/vnode.js","node_modules/mithril/request.js","node_modules/mithril/request/request.js","node_modules/mithril/route.js","node_modules/mithril/router/router.js","node_modules/mithril/stream.js","node_modules/mithril/util/stream.js","node_modules/mithril/util/withAttr.js","app/app.ts","app/something.ts","node_modules/auto-reload-brunch/vendor/auto-reload.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACXA,IAAY,CAAC,WAAM,SAEnB,CAAC,CAF2B;AAE5B,IAAI,eAAe,GAAG;IACrB,IAAI,EAAE;QACL,MAAM,CAAC,CAAC,CAAC,SAAS,EACjB,CAAC,CAAC,QAAQ,EACT,CAAC,CAAC,UAAU,EAAE,UAAU,CAAC,CACzB,EACD,CAAC,CAAC,UAAU,EACX,CAAC,CAAC,UAAU,EACX,EAAC,IAAI,EAAE,gBAAgB,EAAC,EACxB,CAAC,CAAC,WAAW,EAAE,cAAc,CAAC,CAC9B,EACD,CAAC,CAAC,UAAU,EACX,EAAC,IAAI,EAAE,gBAAgB,EAAC,EACxB,CAAC,CAAC,WAAW,EAAE,cAAc,CAAC,CAC9B,CACD,CACD;IACF,CAAC;CACD;AAED,IAAI,qBAAqB,GAAG;IAC3B,IAAI,EAAE;QACL,MAAM,CAAC,CAAC,CAAC,SAAS,EACjB,CAAC,CAAC,eAAe,EAChB,CAAC,CAAC,cAAc,EACf,CAAC,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,EAAE,CAAC,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CACzC,EACD,CAAC,CAAC,UAAU,EAAE,cAAc,CAAC,EAC7B,CAAC,CAAC,eAAe,EAAE,EAAE,CAAC,CACtB,EACD,CAAC,CAAC,UAAU,EACX,IAAI,CACJ,CACD;IACF,CAAC;CACD;AAED,IAAI,qBAAqB,GAAG;IAC3B,IAAI,EAAE;QACL,MAAM,CAAC,CAAC,CAAC,SAAS,EACjB,CAAC,CAAC,eAAe,EAChB,CAAC,CAAC,cAAc,EACf,CAAC,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,EAAE,CAAC,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CACzC,EACD,CAAC,CAAC,UAAU,EAAE,cAAc,CAAC,EAC7B,CAAC,CAAC,eAAe,EAAE,EAAE,CAAC,CACtB,EACD,CAAC,CAAC,UAAU,EACX,CAAC,CAAC,OAAO,EACR,CAAC,CAAC,IAAI,EAAE,cAAc,CAAC,CACvB,CACD,CACD;IACF,CAAC;CACD;AAED,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC;AACnB,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE;IAC5C,GAAG,EAAE,eAAe;IACpB,eAAe,EAAE,qBAAqB;IACtC,eAAe,EAAE,qBAAqB;CACtC,CAAC;;;;;;AChEF;IAGE,aAAY,IAAa;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IACH,UAAC;AAAD,CAAC;AAED;kBAAe,GAAG,CAAC;;;;;;;;ACRnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public/app.js","sourcesContent":["\nrequire.register(\"mithril/api/autoredraw.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar throttle = require(\"../api/throttle\")\r\n\r\nmodule.exports = function(root, renderer, pubsub, callback) {\r\n\tvar run = throttle(callback)\r\n\tif (renderer != null) {\r\n\t\trenderer.setEventCallback(function(e) {\r\n\t\t\tif (e.redraw !== false) pubsub.publish()\r\n\t\t})\r\n\t}\r\n\r\n\tif (pubsub != null) {\r\n\t\tif (root.redraw) pubsub.unsubscribe(root.redraw)\r\n\t\tpubsub.subscribe(run)\r\n\t}\r\n\r\n\treturn root.redraw = run\r\n}\n  })();\n});","\nrequire.register(\"mithril/api/mount.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar Vnode = require(\"../render/vnode\")\r\nvar autoredraw = require(\"../api/autoredraw\")\r\n\r\nmodule.exports = function(renderer, pubsub) {\r\n\treturn function(root, component) {\r\n\t\tif (component === null) {\r\n\t\t\trenderer.render(root, [])\r\n\t\t\tpubsub.unsubscribe(root.redraw)\r\n\t\t\tdelete root.redraw\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tif (component.view == null) throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\r\n\r\n\t\tvar run = autoredraw(root, renderer, pubsub, function() {\r\n\t\t\trenderer.render(root, Vnode(component, undefined, undefined, undefined, undefined, undefined))\r\n\t\t})\r\n\r\n\t\trun()\r\n\t}\r\n}\n  })();\n});","\nrequire.register(\"mithril/api/pubsub.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nmodule.exports = function() {\r\n\tvar callbacks = []\r\n\tfunction unsubscribe(callback) {\r\n\t\tvar index = callbacks.indexOf(callback)\r\n\t\tif (index > -1) callbacks.splice(index, 1)\r\n\t}\r\n    function publish() {\r\n        for (var i = 0; i < callbacks.length; i++) {\r\n            callbacks[i].apply(this, arguments)\r\n        }\r\n    }\r\n\treturn {subscribe: callbacks.push.bind(callbacks), unsubscribe: unsubscribe, publish: publish}\r\n}\n  })();\n});","\nrequire.register(\"mithril/api/router.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar Vnode = require(\"../render/vnode\")\r\nvar coreRouter = require(\"../router/router\")\r\n\r\nmodule.exports = function($window, mount) {\r\n\tvar router = coreRouter($window)\r\n\tvar currentResolve, currentComponent, currentRender, currentArgs, currentPath\r\n\r\n\tvar RouteComponent = {view: function() {\r\n\t\treturn [currentRender(Vnode(currentComponent, null, currentArgs, undefined, undefined, undefined))]\r\n\t}}\r\n\tfunction defaultRender(vnode) {\r\n\t\treturn vnode\r\n\t}\r\n\tvar route = function(root, defaultRoute, routes) {\r\n\t\tcurrentComponent = \"div\"\r\n\t\tcurrentRender = defaultRender\r\n\t\tcurrentArgs = null\r\n\r\n\t\tmount(root, RouteComponent)\r\n\r\n\t\trouter.defineRoutes(routes, function(payload, args, path) {\r\n\t\t\tvar isResolver = typeof payload.view !== \"function\"\r\n\t\t\tvar render = defaultRender\r\n\r\n\t\t\tvar resolve = currentResolve = function (component) {\r\n\t\t\t\tif (resolve !== currentResolve) return\r\n\t\t\t\tcurrentResolve = null\r\n\r\n\t\t\t\tcurrentComponent = component != null ? component : isResolver ? \"div\" : payload\r\n\t\t\t\tcurrentRender = render\r\n\t\t\t\tcurrentArgs = args\r\n\t\t\t\tcurrentPath = path\r\n\r\n\t\t\t\troot.redraw(true)\r\n\t\t\t}\r\n\t\t\tvar onmatch = function() {\r\n\t\t\t\tresolve()\r\n\t\t\t}\r\n\t\t\tif (isResolver) {\r\n\t\t\t\tif (typeof payload.render === \"function\") render = payload.render.bind(payload)\r\n\t\t\t\tif (typeof payload.onmatch === \"function\") onmatch = payload.onmatch\r\n\t\t\t}\r\n\t\t\r\n\t\t\tonmatch.call(payload, resolve, args, path)\r\n\t\t}, function() {\r\n\t\t\trouter.setPath(defaultRoute, null, {replace: true})\r\n\t\t})\r\n\t}\r\n\troute.link = router.link\r\n\troute.prefix = router.setPrefix\r\n\troute.set = router.setPath\r\n\troute.get = function() {return currentPath}\r\n\r\n\treturn route\r\n}\n  })();\n});","\nrequire.register(\"mithril/api/throttle.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nmodule.exports = function(callback) {\r\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\r\n\tvar time = 16\r\n\tvar last = 0, pending = null\r\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\r\n\treturn function(synchronous) {\r\n\t\tvar now = Date.now()\r\n\t\tif (synchronous === true || last === 0 || now - last >= time) {\r\n\t\t\tlast = now\r\n\t\t\tcallback()\r\n\t\t}\r\n\t\telse if (pending === null) {\r\n\t\t\tpending = timeout(function() {\r\n\t\t\t\tpending = null\r\n\t\t\t\tcallback()\r\n\t\t\t\tlast = Date.now()\r\n\t\t\t}, time - (now - last))\r\n\t\t}\r\n\t}\r\n}\n  })();\n});","\nrequire.register(\"mithril/hyperscript.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    var hyperscript = require(\"./render/hyperscript\")\r\n\r\nhyperscript.trust = require(\"./render/trust\")\r\nhyperscript.fragment = require(\"./render/fragment\")\r\n\r\nmodule.exports = hyperscript\n  })();\n});","\nrequire.register(\"mithril/index.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar m = require(\"./hyperscript\")\r\nvar requestService = require(\"./request\")\r\nvar redrawService = require(\"./redraw\")\r\n\r\nrequestService.setCompletionCallback(redrawService.publish)\r\n\r\nm.mount = require(\"./mount\")\r\nm.route = require(\"./route\")\r\nm.withAttr = require(\"./util/withAttr\")\r\nm.prop = require(\"./stream\")\r\nm.render = require(\"./render\").render\r\nm.redraw = redrawService.publish\r\nm.request = requestService.request\r\nm.jsonp = requestService.jsonp\r\nm.parseQueryString = require(\"./querystring/parse\")\r\nm.buildQueryString = require(\"./querystring/build\")\r\nm.version = \"bleeding-edge\"\r\n\r\nmodule.exports = m\n  })();\n});","\nrequire.register(\"mithril/mount.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    var renderService = require(\"./render\")\r\nvar redrawService = require(\"./redraw\")\r\n\r\nmodule.exports = require(\"./api/mount\")(renderService, redrawService)\n  })();\n});","\nrequire.register(\"mithril/querystring/build.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nmodule.exports = function(object) {\r\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\r\n\r\n\tvar args = []\r\n\tfor (var key in object) {\r\n\t\tdestructure(key, object[key])\r\n\t}\r\n\treturn args.join(\"&\")\r\n\r\n\tfunction destructure(key, value) {\r\n\t\tif (value instanceof Array) {\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\r\n\t\t\tfor (var i in value) {\r\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\r\n\t\t\t}\r\n\t\t}\r\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\r\n\t}\r\n}\n  })();\n});","\nrequire.register(\"mithril/querystring/parse.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nmodule.exports = function(string) {\r\n\tif (string === \"\" || string == null) return {}\r\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\r\n\r\n\tvar entries = string.split(\"&\"), data = {}, counters = {}\r\n\tfor (var i = 0; i < entries.length; i++) {\r\n\t\tvar entry = entries[i].split(\"=\")\r\n\t\tvar key = decodeURIComponent(entry[0])\r\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\r\n\r\n\t\tif (value === \"true\") value = true\r\n\t\telse if (value === \"false\") value = false\r\n\r\n\t\tvar levels = key.split(/\\]\\[?|\\[/)\r\n\t\tvar cursor = data\r\n\t\tif (key.indexOf(\"[\") > -1) levels.pop()\r\n\t\tfor (var j = 0; j < levels.length; j++) {\r\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\r\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\r\n\t\t\tvar isValue = j === levels.length - 1\r\n\t\t\tif (level === \"\") {\r\n\t\t\t\tvar key = levels.slice(0, j).join()\r\n\t\t\t\tif (counters[key] == null) counters[key] = 0\r\n\t\t\t\tlevel = counters[key]++\r\n\t\t\t}\r\n\t\t\tif (cursor[level] == null) {\r\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\r\n\t\t\t}\r\n\t\t\tcursor = cursor[level]\r\n\t\t}\r\n\t}\r\n\treturn data\r\n}\n  })();\n});","\nrequire.register(\"mithril/redraw.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    module.exports = require(\"./api/pubsub\")()\n  })();\n});","\nrequire.register(\"mithril/render.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    module.exports = require(\"./render/render\")(window)\n  })();\n});","\nrequire.register(\"mithril/render/fragment.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar Vnode = require(\"../render/vnode\")\r\n\r\nmodule.exports = function(attrs, children) {\r\n\treturn Vnode(\"[\", attrs.key, attrs, Vnode.normalizeChildren(children), undefined, undefined)\r\n}\n  })();\n});","\nrequire.register(\"mithril/render/hyperscript.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar Vnode = require(\"../render/vnode\")\r\n\r\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\r\nvar selectorCache = {}\r\nfunction hyperscript(selector) {\r\n\tif (selector == null || typeof selector !== \"string\" && selector.view == null) {\r\n\t\tthrow Error(\"The selector must be either a string or a component.\");\r\n\t}\r\n\r\n\tif (typeof selector === \"string\" && selectorCache[selector] === undefined) {\r\n\t\tvar match, tag, classes = [], attributes = {}\r\n\t\twhile (match = selectorParser.exec(selector)) {\r\n\t\t\tvar type = match[1], value = match[2]\r\n\t\t\tif (type === \"\" && value !== \"\") tag = value\r\n\t\t\telse if (type === \"#\") attributes.id = value\r\n\t\t\telse if (type === \".\") classes.push(value)\r\n\t\t\telse if (match[3][0] === \"[\") {\r\n\t\t\t\tvar attrValue = match[6]\r\n\t\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\r\n\t\t\t\tattributes[match[4]] = attrValue || true\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (classes.length > 0) attributes.className = classes.join(\" \")\r\n\t\tselectorCache[selector] = function(attrs, children) {\r\n\t\t\tvar hasAttrs = false, childList, text\r\n\t\t\tvar className = attrs.className || attrs.class\r\n\t\t\tfor (var key in attributes) attrs[key] = attributes[key]\r\n\t\t\tif (className !== undefined) {\r\n\t\t\t\tif (attrs.class !== undefined) {\r\n\t\t\t\t\tattrs.class = undefined\r\n\t\t\t\t\tattrs.className = className\r\n\t\t\t\t}\r\n\t\t\t\tif (attributes.className !== undefined) attrs.className = attributes.className + \" \" + className\r\n\t\t\t}\r\n\t\t\tfor (var key in attrs) {\r\n\t\t\t\tif (key !== \"key\") {\r\n\t\t\t\t\thasAttrs = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (children instanceof Array && children.length == 1 && children[0] != null && children[0].tag === \"#\") text = children[0].children\r\n\t\t\telse childList = children\r\n\r\n\t\t\treturn Vnode(tag || \"div\", attrs.key, hasAttrs ? attrs : undefined, childList, text, undefined)\r\n\t\t}\r\n\t}\r\n\tvar attrs, children, childrenIndex\r\n\tif (arguments[1] == null || typeof arguments[1] === \"object\" && arguments[1].tag === undefined && !(arguments[1] instanceof Array)) {\r\n\t\tattrs = arguments[1]\r\n\t\tchildrenIndex = 2\r\n\t}\r\n\telse childrenIndex = 1\r\n\tif (arguments.length === childrenIndex + 1) {\r\n\t\tchildren = arguments[childrenIndex] instanceof Array ? arguments[childrenIndex] : [arguments[childrenIndex]]\r\n\t}\r\n\telse {\r\n\t\tchildren = []\r\n\t\tfor (var i = childrenIndex; i < arguments.length; i++) children.push(arguments[i])\r\n\t}\r\n\r\n\tif (typeof selector === \"string\") return selectorCache[selector](attrs || {}, Vnode.normalizeChildren(children))\r\n\r\n\treturn Vnode(selector, attrs && attrs.key, attrs || {}, Vnode.normalizeChildren(children), undefined, undefined)\r\n}\r\n\r\nmodule.exports = hyperscript\n  })();\n});","\nrequire.register(\"mithril/render/render.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar Vnode = require(\"../render/vnode\")\r\n\r\nmodule.exports = function($window) {\r\n\tvar $doc = $window.document\r\n\tvar $emptyFragment = $doc.createDocumentFragment()\r\n\r\n\tvar onevent\r\n\tfunction setEventCallback(callback) {return onevent = callback}\r\n\r\n\t//create\r\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\r\n\t\tfor (var i = start; i < end; i++) {\r\n\t\t\tvar vnode = vnodes[i]\r\n\t\t\tif (vnode != null) {\r\n\t\t\t\tinsertNode(parent, createNode(vnode, hooks, ns), nextSibling)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction createNode(vnode, hooks, ns) {\r\n\t\tvar tag = vnode.tag\r\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\r\n\t\tif (typeof tag === \"string\") {\r\n\t\t\tswitch (tag) {\r\n\t\t\t\tcase \"#\": return createText(vnode)\r\n\t\t\t\tcase \"<\": return createHTML(vnode)\r\n\t\t\t\tcase \"[\": return createFragment(vnode, hooks, ns)\r\n\t\t\t\tdefault: return createElement(vnode, hooks, ns)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse return createComponent(vnode, hooks, ns)\r\n\t}\r\n\tfunction createText(vnode) {\r\n\t\treturn vnode.dom = $doc.createTextNode(vnode.children)\r\n\t}\r\n\tfunction createHTML(vnode) {\r\n\t\tvar match = vnode.children.match(/^\\s*?<(\\w+)/im) || []\r\n\t\tvar parent = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match[1]] || \"div\"\r\n\t\tvar temp = $doc.createElement(parent)\r\n\r\n\t\ttemp.innerHTML = vnode.children\r\n\t\tvnode.dom = temp.firstChild\r\n\t\tvnode.domSize = temp.childNodes.length\r\n\t\tvar fragment = $doc.createDocumentFragment()\r\n\t\tvar child\r\n\t\twhile (child = temp.firstChild) {\r\n\t\t\tfragment.appendChild(child)\r\n\t\t}\r\n\t\treturn fragment\r\n\t}\r\n\tfunction createFragment(vnode, hooks, ns) {\r\n\t\tvar fragment = $doc.createDocumentFragment()\r\n\t\tif (vnode.children != null) {\r\n\t\t\tvar children = vnode.children\r\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\r\n\t\t}\r\n\t\tvnode.dom = fragment.firstChild\r\n\t\tvnode.domSize = fragment.childNodes.length\r\n\t\treturn fragment\r\n\t}\r\n\tfunction createElement(vnode, hooks, ns) {\r\n\t\tvar tag = vnode.tag\r\n\t\tswitch (vnode.tag) {\r\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\r\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\r\n\t\t}\r\n\r\n\t\tvar attrs = vnode.attrs\r\n\t\tvar is = attrs && attrs.is\r\n\r\n\t\tvar element = ns ?\r\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\r\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\r\n\t\tvnode.dom = element\r\n\r\n\t\tif (attrs != null) {\r\n\t\t\tsetAttrs(vnode, attrs, ns)\r\n\t\t}\r\n\r\n\t\tif (vnode.text != null) {\r\n\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\r\n\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\r\n\t\t}\r\n\r\n\t\tif (vnode.children != null) {\r\n\t\t\tvar children = vnode.children\r\n\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\r\n\t\t\tsetLateAttrs(vnode)\r\n\t\t}\r\n\t\treturn element\r\n\t}\r\n\tfunction createComponent(vnode, hooks, ns) {\r\n\t\t// For object literals since `Vnode()` always sets the `state` field.\r\n\t\tif (!vnode.state) vnode.state = {}\r\n\t\tassign(vnode.state, vnode.tag)\r\n\r\n\t\tinitLifecycle(vnode.tag, vnode, hooks)\r\n\t\tvnode.instance = Vnode.normalize(vnode.tag.view.call(vnode.state, vnode))\r\n\t\tif (vnode.instance != null) {\r\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as arguments\")\r\n\t\t\tvar element = createNode(vnode.instance, hooks, ns)\r\n\t\t\tvnode.dom = vnode.instance.dom\r\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\r\n\t\t\treturn element\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvnode.domSize = 0\r\n\t\t\treturn $emptyFragment\r\n\t\t}\r\n\t}\r\n\r\n\t//update\r\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\r\n\t\tif (old === vnodes || old == null && vnodes == null) return\r\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, undefined)\r\n\t\telse if (vnodes == null) removeNodes(parent, old, 0, old.length, vnodes)\r\n\t\telse {\r\n\t\t\tvar recycling = isRecyclable(old, vnodes)\r\n\t\t\tif (recycling) old = old.concat(old.pool)\r\n\r\n\t\t\tif (old.length === vnodes.length && vnodes[0] != null && vnodes[0].key == null) {\r\n\t\t\t\tfor (var i = 0; i < old.length; i++) {\r\n\t\t\t\t\tif (old[i] === vnodes[i] || old[i] == null && vnodes[i] == null) continue\r\n\t\t\t\t\telse if (old[i] == null) insertNode(parent, createNode(vnodes[i], hooks, ns), getNextSibling(old, i + 1, nextSibling))\r\n\t\t\t\t\telse if (vnodes[i] == null) removeNodes(parent, old, i, i + 1, vnodes)\r\n\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\r\n\t\t\t\t\tif (recycling && old[i].tag === vnodes[i].tag) insertNode(parent, toFragment(old[i]), getNextSibling(old, i + 1, nextSibling))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\r\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\r\n\t\t\t\t\tvar o = old[oldStart], v = vnodes[start]\r\n\t\t\t\t\tif (o === v && !recycling) oldStart++, start++\r\n\t\t\t\t\telse if (o != null && v != null && o.key === v.key) {\r\n\t\t\t\t\t\toldStart++, start++\r\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), recycling, ns)\r\n\t\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvar o = old[oldEnd]\r\n\t\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\r\n\t\t\t\t\t\telse if (o != null && v != null && o.key === v.key) {\r\n\t\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\r\n\t\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\r\n\t\t\t\t\t\t\toldEnd--, start++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse break\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\r\n\t\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\r\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, end--\r\n\t\t\t\t\telse if (o != null && v != null && o.key === v.key) {\r\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\r\n\t\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\r\n\t\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\r\n\t\t\t\t\t\toldEnd--, end--\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\r\n\t\t\t\t\t\tif (v != null) {\r\n\t\t\t\t\t\t\tvar oldIndex = map[v.key]\r\n\t\t\t\t\t\t\tif (oldIndex != null) {\r\n\t\t\t\t\t\t\t\tvar movable = old[oldIndex]\r\n\t\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\r\n\t\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\r\n\t\t\t\t\t\t\t\told[oldIndex].skip = true\r\n\t\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tvar dom = createNode(v, hooks, undefined)\r\n\t\t\t\t\t\t\t\tinsertNode(parent, dom, nextSibling)\r\n\t\t\t\t\t\t\t\tnextSibling = dom\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tend--\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (end < start) break\r\n\t\t\t\t}\r\n\t\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\r\n\t\t\t\tremoveNodes(parent, old, oldStart, oldEnd + 1, vnodes)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\r\n\t\tvar oldTag = old.tag, tag = vnode.tag\r\n\t\tif (oldTag === tag) {\r\n\t\t\tvnode.state = old.state\r\n\t\t\tvnode.events = old.events\r\n\t\t\tif (shouldUpdate(vnode, old)) return\r\n\t\t\tif (vnode.attrs != null) {\r\n\t\t\t\tupdateLifecycle(vnode.attrs, vnode, hooks, recycling)\r\n\t\t\t}\r\n\t\t\tif (typeof oldTag === \"string\") {\r\n\t\t\t\tswitch (oldTag) {\r\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\r\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\r\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, hooks, nextSibling, ns); break\r\n\t\t\t\t\tdefault: updateElement(old, vnode, hooks, ns)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tremoveNode(parent, old, null)\r\n\t\t\tinsertNode(parent, createNode(vnode, hooks, undefined), nextSibling)\r\n\t\t}\r\n\t}\r\n\tfunction updateText(old, vnode) {\r\n\t\tif (old.children.toString() !== vnode.children.toString()) {\r\n\t\t\told.dom.nodeValue = vnode.children\r\n\t\t}\r\n\t\tvnode.dom = old.dom\r\n\t}\r\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\r\n\t\tif (old.children !== vnode.children) {\r\n\t\t\ttoFragment(old)\r\n\t\t\tinsertNode(parent, createHTML(vnode), nextSibling)\r\n\t\t}\r\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\r\n\t}\r\n\tfunction updateFragment(parent, old, vnode, hooks, nextSibling, ns) {\r\n\t\tupdateNodes(parent, old.children, vnode.children, hooks, nextSibling, ns)\r\n\t\tvar domSize = 0, children = vnode.children\r\n\t\tvnode.dom = null\r\n\t\tif (children != null) {\r\n\t\t\tfor (var i = 0; i < children.length; i++) {\r\n\t\t\t\tvar child = children[i]\r\n\t\t\t\tif (child != null && child.dom != null) {\r\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\r\n\t\t\t\t\tdomSize += child.domSize || 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\r\n\t\t}\r\n\t}\r\n\tfunction updateElement(old, vnode, hooks, ns) {\r\n\t\tvar element = vnode.dom = old.dom\r\n\t\tswitch (vnode.tag) {\r\n\t\t\tcase \"svg\": ns = \"http://www.w3.org/2000/svg\"; break\r\n\t\t\tcase \"math\": ns = \"http://www.w3.org/1998/Math/MathML\"; break\r\n\t\t}\r\n\t\tif (vnode.tag === \"textarea\") {\r\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\r\n\t\t\tif (vnode.text != null) {\r\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle multiple children\r\n\t\t\t\tvnode.text = undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\r\n\t\tif (old.text != null && vnode.text != null && vnode.text !== \"\") {\r\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\r\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\r\n\t\t\tupdateNodes(element, old.children, vnode.children, hooks, null, ns)\r\n\t\t}\r\n\t}\r\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\r\n\t\tvnode.instance = Vnode.normalize(vnode.tag.view.call(vnode.state, vnode))\r\n\t\tupdateLifecycle(vnode.tag, vnode, hooks, recycling)\r\n\t\tif (vnode.instance != null) {\r\n\t\t\tif (old.instance == null) insertNode(parent, createNode(vnode.instance, hooks, ns), nextSibling)\r\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\r\n\t\t\tvnode.dom = vnode.instance.dom\r\n\t\t\tvnode.domSize = vnode.instance.domSize\r\n\t\t}\r\n\t\telse if (old.instance != null) {\r\n\t\t\tremoveNode(parent, old.instance, null)\r\n\t\t\tvnode.dom = undefined\r\n\t\t\tvnode.domSize = 0\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvnode.dom = old.dom\r\n\t\t\tvnode.domSize = old.domSize\r\n\t\t}\r\n\t}\r\n\tfunction isRecyclable(old, vnodes) {\r\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\r\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\r\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\r\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\r\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\tfunction getKeyMap(vnodes, end) {\r\n\t\tvar map = {}, i = 0\r\n\t\tfor (var i = 0; i < end; i++) {\r\n\t\t\tvar vnode = vnodes[i]\r\n\t\t\tif (vnode != null) {\r\n\t\t\t\tvar key = vnode.key\r\n\t\t\t\tif (key != null) map[key] = i\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn map\r\n\t}\r\n\tfunction toFragment(vnode) {\r\n\t\tvar count = vnode.domSize\r\n\t\tif (count != null || vnode.dom == null) {\r\n\t\t\tvar fragment = $doc.createDocumentFragment()\r\n\t\t\tif (count > 0) {\r\n\t\t\t\tvar dom = vnode.dom\r\n\t\t\t\twhile (--count) fragment.appendChild(dom.nextSibling)\r\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\r\n\t\t\t}\r\n\t\t\treturn fragment\r\n\t\t}\r\n\t\telse return vnode.dom\r\n\t}\r\n\tfunction getNextSibling(vnodes, i, nextSibling) {\r\n\t\tfor (; i < vnodes.length; i++) {\r\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\r\n\t\t}\r\n\t\treturn nextSibling\r\n\t}\r\n\r\n\tfunction insertNode(parent, dom, nextSibling) {\r\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\r\n\t\telse parent.appendChild(dom)\r\n\t}\r\n\r\n\t//remove\r\n\tfunction removeNodes(parent, vnodes, start, end, context) {\r\n\t\tfor (var i = start; i < end; i++) {\r\n\t\t\tvar vnode = vnodes[i]\r\n\t\t\tif (vnode != null) {\r\n\t\t\t\tif (vnode.skip) vnode.skip = false\r\n\t\t\t\telse removeNode(parent, vnode, context)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction once(f) {\r\n\t\tvar called = false\r\n\t\treturn function() {\r\n\t\t\tif (!called) {\r\n\t\t\t\tcalled = true\r\n\t\t\t\tf()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction removeNode(parent, vnode, context) {\r\n\t\tvar expected = 1, called = 0\r\n\t\tif (vnode.attrs && vnode.attrs.onbeforeremove) {\r\n\t\t\texpected++\r\n\t\t\tvnode.attrs.onbeforeremove.call(vnode.state, vnode, once(continuation))\r\n\t\t}\r\n\t\tif (typeof vnode.tag !== \"string\" && vnode.tag.onbeforeremove) {\r\n\t\t\texpected++\r\n\t\t\tvnode.tag.onbeforeremove.call(vnode.state, vnode, once(continuation))\r\n\t\t}\r\n\t\tcontinuation()\r\n\t\tfunction continuation() {\r\n\t\t\tif (++called === expected) {\r\n\t\t\t\tonremove(vnode)\r\n\t\t\t\tif (vnode.dom) {\r\n\t\t\t\t\tvar count = vnode.domSize || 1\r\n\t\t\t\t\tif (count > 1) {\r\n\t\t\t\t\t\tvar dom = vnode.dom\r\n\t\t\t\t\t\twhile (--count) {\r\n\t\t\t\t\t\t\tparent.removeChild(dom.nextSibling)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (vnode.dom.parentNode != null) parent.removeChild(vnode.dom)\r\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\r\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\r\n\t\t\t\t\t\telse context.pool.push(vnode)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction onremove(vnode) {\r\n\t\tif (vnode.attrs && vnode.attrs.onremove) vnode.attrs.onremove.call(vnode.state, vnode)\r\n\t\tif (typeof vnode.tag !== \"string\" && vnode.tag.onremove) vnode.tag.onremove.call(vnode.state, vnode)\r\n\t\tif (vnode.instance != null) onremove(vnode.instance)\r\n\t\telse {\r\n\t\t\tvar children = vnode.children\r\n\t\t\tif (children instanceof Array) {\r\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\r\n\t\t\t\t\tvar child = children[i]\r\n\t\t\t\t\tif (child != null) onremove(child)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//attrs\r\n\tfunction setAttrs(vnode, attrs, ns) {\r\n\t\tfor (var key in attrs) {\r\n\t\t\tsetAttr(vnode, key, null, attrs[key], ns)\r\n\t\t}\r\n\t}\r\n\tfunction setAttr(vnode, key, old, value, ns) {\r\n\t\tvar element = vnode.dom\r\n\t\tif (key === \"key\" || (old === value && !isFormAttribute(vnode, key)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key)) return\r\n\t\tvar nsLastIndex = key.indexOf(\":\")\r\n\t\tif (nsLastIndex > -1 && key.substr(0, nsLastIndex) === \"xlink\") {\r\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(nsLastIndex + 1), value)\r\n\t\t}\r\n\t\telse if (key[0] === \"o\" && key[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key, value)\r\n\t\telse if (key === \"style\") updateStyle(element, old, value)\r\n\t\telse if (key in element && !isAttribute(key) && ns === undefined) {\r\n\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\r\n\t\t\tif (vnode.tag === \"input\" && key === \"value\" && vnode.dom.value === value && vnode.dom === $doc.activeElement) return\r\n\t\t\telement[key] = value\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (typeof value === \"boolean\") {\r\n\t\t\t\tif (value) element.setAttribute(key, \"\")\r\n\t\t\t\telse element.removeAttribute(key)\r\n\t\t\t}\r\n\t\t\telse element.setAttribute(key === \"className\" ? \"class\" : key, value)\r\n\t\t}\r\n\t}\r\n\tfunction setLateAttrs(vnode) {\r\n\t\tvar attrs = vnode.attrs\r\n\t\tif (vnode.tag === \"select\" && attrs != null) {\r\n\t\t\tif (\"value\" in attrs) setAttr(vnode, \"value\", null, attrs.value, undefined)\r\n\t\t\tif (\"selectedIndex\" in attrs) setAttr(vnode, \"selectedIndex\", null, attrs.selectedIndex, undefined)\r\n\t\t}\r\n\t}\r\n\tfunction updateAttrs(vnode, old, attrs, ns) {\r\n\t\tif (attrs != null) {\r\n\t\t\tfor (var key in attrs) {\r\n\t\t\t\tsetAttr(vnode, key, old && old[key], attrs[key], ns)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (old != null) {\r\n\t\t\tfor (var key in old) {\r\n\t\t\t\tif (attrs == null || !(key in attrs)) {\r\n\t\t\t\t\tif (key === \"className\") key = \"class\"\r\n\t\t\t\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode, key, undefined)\r\n\t\t\t\t\telse if (key !== \"key\") vnode.dom.removeAttribute(key)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction isFormAttribute(vnode, attr) {\r\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\r\n\t}\r\n\tfunction isLifecycleMethod(attr) {\r\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\r\n\t}\r\n\tfunction isAttribute(attr) {\r\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\r\n\t}\r\n\tfunction hasIntegrationMethods(source) {\r\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\r\n\t}\r\n\r\n\t//style\r\n\tfunction updateStyle(element, old, style) {\r\n\t\tif (old === style) element.style.cssText = \"\", old = null\r\n\t\tif (style == null) element.style.cssText = \"\"\r\n\t\telse if (typeof style === \"string\") element.style.cssText = style\r\n\t\telse {\r\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\r\n\t\t\tfor (var key in style) {\r\n\t\t\t\telement.style[key] = style[key]\r\n\t\t\t}\r\n\t\t\tif (old != null && typeof old !== \"string\") {\r\n\t\t\t\tfor (var key in old) {\r\n\t\t\t\t\tif (!(key in style)) element.style[key] = \"\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//event\r\n\tfunction updateEvent(vnode, key, value) {\r\n\t\tvar element = vnode.dom\r\n\t\tvar callback = function(e) {\r\n\t\t\tvar result = value.call(element, e)\r\n\t\t\tif (typeof onevent === \"function\") onevent.call(element, e)\r\n\t\t\treturn result\r\n\t\t}\r\n\t\tif (key in element) element[key] = callback\r\n\t\telse {\r\n\t\t\tvar eventName = key.slice(2)\r\n\t\t\tif (vnode.events === undefined) vnode.events = {}\r\n\t\t\tif (vnode.events[key] != null) element.removeEventListener(eventName, vnode.events[key], false)\r\n\t\t\tif (typeof value === \"function\") {\r\n\t\t\t\tvnode.events[key] = callback\r\n\t\t\t\telement.addEventListener(eventName, vnode.events[key], false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//lifecycle\r\n\tfunction initLifecycle(source, vnode, hooks) {\r\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\r\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\r\n\t}\r\n\tfunction updateLifecycle(source, vnode, hooks, recycling) {\r\n\t\tif (recycling) initLifecycle(source, vnode, hooks)\r\n\t\telse if (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\r\n\t}\r\n\tfunction shouldUpdate(vnode, old) {\r\n\t\tvar forceVnodeUpdate, forceComponentUpdate\r\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\r\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode.tag.onbeforeupdate === \"function\") forceComponentUpdate = vnode.tag.onbeforeupdate.call(vnode.state, vnode, old)\r\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\r\n\t\t\tvnode.dom = old.dom\r\n\t\t\tvnode.domSize = old.domSize\r\n\t\t\tvnode.instance = old.instance\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tfunction assign(target, source) {\r\n\t\tObject.keys(source).forEach(function(k){target[k] = source[k]})\r\n\t}\r\n\r\n\tfunction render(dom, vnodes) {\r\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\r\n\t\tvar hooks = []\r\n\t\tvar active = $doc.activeElement\r\n\r\n\t\t// First time rendering into a node clears it out\r\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\r\n\r\n\t\tif (!(vnodes instanceof Array)) vnodes = [vnodes]\r\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), hooks, null, undefined)\r\n\t\tdom.vnodes = vnodes\r\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\r\n\t\tif ($doc.activeElement !== active) active.focus()\r\n\t}\r\n\r\n\treturn {render: render, setEventCallback: setEventCallback}\r\n}\n  })();\n});","\nrequire.register(\"mithril/render/trust.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar Vnode = require(\"../render/vnode\")\r\n\r\nmodule.exports = function(html) {\r\n\tif (html == null) html = \"\"\r\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\r\n}\n  })();\n});","\nrequire.register(\"mithril/render/vnode.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    function Vnode(tag, key, attrs, children, text, dom) {\r\n\treturn {tag: tag, key: key, attrs: attrs, children: children, text: text, dom: dom, domSize: undefined, state: {}, events: undefined, instance: undefined, skip: false}\r\n}\r\nVnode.normalize = function(node) {\r\n\tif (node instanceof Array) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\r\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node, undefined, undefined)\r\n\treturn node\r\n}\r\nVnode.normalizeChildren = function normalizeChildren(children) {\r\n\tfor (var i = 0; i < children.length; i++) {\r\n\t\tchildren[i] = Vnode.normalize(children[i])\r\n\t}\r\n\treturn children\r\n}\r\n\r\nmodule.exports = Vnode\n  })();\n});","\nrequire.register(\"mithril/request.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    var Stream = require(\"./stream\")\r\nmodule.exports = require(\"./request/request\")(window, Stream)\n  })();\n});","\nrequire.register(\"mithril/request/request.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar buildQueryString = require(\"../querystring/build\")\r\n\r\nmodule.exports = function($window, Stream) {\r\n\tvar callbackCount = 0\r\n\r\n\tvar oncompletion\r\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\r\n\t\r\n\tfunction request(args) {\r\n\t\tvar stream = Stream()\r\n\t\tif (args.initialValue !== undefined) stream(args.initialValue)\r\n\t\t\r\n\t\tvar useBody = typeof args.useBody === \"boolean\" ? args.useBody : args.method !== \"GET\" && args.method !== \"TRACE\"\r\n\t\t\r\n\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\r\n\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\r\n\t\tif (typeof args.extract !== \"function\") args.extract = extract\r\n\t\t\r\n\t\targs.url = interpolate(args.url, args.data)\r\n\t\tif (useBody) args.data = args.serialize(args.data)\r\n\t\telse args.url = assemble(args.url, args.data)\r\n\t\t\r\n\t\tvar xhr = new $window.XMLHttpRequest()\r\n\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\r\n\t\t\r\n\t\tif (args.serialize === JSON.stringify && useBody) {\r\n\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\r\n\t\t}\r\n\t\tif (args.deserialize === deserialize) {\r\n\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\r\n\t\t}\r\n\t\t\r\n\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\r\n\t\t\r\n\t\txhr.onreadystatechange = function() {\r\n\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\r\n\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304) {\r\n\t\t\t\t\t\tstream(cast(args.type, response))\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvar error = new Error(xhr.responseText)\r\n\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\r\n\t\t\t\t\t\tstream.error(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (e) {\r\n\t\t\t\t\tstream.error(e)\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof oncompletion === \"function\") oncompletion()\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (useBody) xhr.send(args.data)\r\n\t\telse xhr.send()\r\n\t\t\r\n\t\treturn stream\r\n\t}\r\n\r\n\tfunction jsonp(args) {\r\n\t\tvar stream = Stream()\r\n\t\tif (args.initialValue !== undefined) stream(args.initialValue)\r\n\t\t\r\n\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\r\n\t\tvar script = $window.document.createElement(\"script\")\r\n\t\t$window[callbackName] = function(data) {\r\n\t\t\tscript.parentNode.removeChild(script)\r\n\t\t\tstream(cast(args.type, data))\r\n\t\t\tif (typeof oncompletion === \"function\") oncompletion()\r\n\t\t\tdelete $window[callbackName]\r\n\t\t}\r\n\t\tscript.onerror = function() {\r\n\t\t\tscript.parentNode.removeChild(script)\r\n\t\t\tstream.error(new Error(\"JSONP request failed\"))\r\n\t\t\tif (typeof oncompletion === \"function\") oncompletion()\r\n\t\t\tdelete $window[callbackName]\r\n\t\t}\r\n\t\tif (args.data == null) args.data = {}\r\n\t\targs.url = interpolate(args.url, args.data)\r\n\t\targs.data[args.callbackKey || \"callback\"] = callbackName\r\n\t\tscript.src = assemble(args.url, args.data)\r\n\t\t$window.document.documentElement.appendChild(script)\r\n\t\treturn stream\r\n\t}\r\n\r\n\tfunction interpolate(url, data) {\r\n\t\tif (data == null) return url\r\n\r\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\r\n\t\tfor (var i = 0; i < tokens.length; i++) {\r\n\t\t\tvar key = tokens[i].slice(1)\r\n\t\t\tif (data[key] != null) {\r\n\t\t\t\turl = url.replace(tokens[i], data[key])\r\n\t\t\t\tdelete data[key]\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn url\r\n\t}\r\n\r\n\tfunction assemble(url, data) {\r\n\t\tvar querystring = buildQueryString(data)\r\n\t\tif (querystring !== \"\") {\r\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\r\n\t\t\turl += prefix + querystring\r\n\t\t}\r\n\t\treturn url\r\n\t}\r\n\r\n\tfunction deserialize(data) {\r\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\r\n\t\tcatch (e) {throw new Error(data)}\r\n\t}\r\n\r\n\tfunction extract(xhr) {return xhr.responseText}\r\n\t\r\n\tfunction cast(type, data) {\r\n\t\tif (typeof type === \"function\") {\r\n\t\t\tif (data instanceof Array) {\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tdata[i] = new type(data[i])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse return new type(data)\r\n\t\t}\r\n\t\treturn data\r\n\t}\r\n\t\r\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\r\n}\n  })();\n});","\nrequire.register(\"mithril/route.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    var mount = require(\"./mount\")\r\n\r\nmodule.exports = require(\"./api/router\")(window, mount)\n  })();\n});","\nrequire.register(\"mithril/router/router.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nvar buildQueryString = require(\"../querystring/build\")\r\nvar parseQueryString = require(\"../querystring/parse\")\r\n\r\nmodule.exports = function($window) {\r\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\r\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\r\n\r\n\tvar prefix = \"#!\"\r\n\tfunction setPrefix(value) {prefix = value}\r\n\r\n\tfunction normalize(fragment) {\r\n\t\tvar data = $window.location[fragment].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\r\n\t\tif (fragment === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\r\n\t\treturn data\r\n\t}\r\n\r\n\tvar asyncId\r\n\tfunction debounceAsync(f) {\r\n\t\treturn function() {\r\n\t\t\tif (asyncId != null) return\r\n\t\t\tasyncId = callAsync(function() {\r\n\t\t\t\tasyncId = null\r\n\t\t\t\tf()\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tfunction parsePath(path, queryData, hashData) {\r\n\t\tvar queryIndex = path.indexOf(\"?\")\r\n\t\tvar hashIndex = path.indexOf(\"#\")\r\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\r\n\t\tif (queryIndex > -1) {\r\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\r\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\r\n\t\t\tfor (var key in queryParams) queryData[key] = queryParams[key]\r\n\t\t}\r\n\t\tif (hashIndex > -1) {\r\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\r\n\t\t\tfor (var key in hashParams) hashData[key] = hashParams[key]\r\n\t\t}\r\n\t\treturn path.slice(0, pathEnd)\r\n\t}\r\n\r\n\tfunction getPath() {\r\n\t\tvar type = prefix.charAt(0)\r\n\t\tswitch (type) {\r\n\t\t\tcase \"#\": return normalize(\"hash\").slice(prefix.length)\r\n\t\t\tcase \"?\": return normalize(\"search\").slice(prefix.length) + normalize(\"hash\")\r\n\t\t\tdefault: return normalize(\"pathname\").slice(prefix.length) + normalize(\"search\") + normalize(\"hash\")\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setPath(path, data, options) {\r\n\t\tvar queryData = {}, hashData = {}\r\n\t\tpath = parsePath(path, queryData, hashData)\r\n\t\tif (data != null) {\r\n\t\t\tfor (var key in data) queryData[key] = data[key]\r\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match, token) {\r\n\t\t\t\tdelete queryData[token]\r\n\t\t\t\treturn data[token]\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar query = buildQueryString(queryData)\r\n\t\tif (query) path += \"?\" + query\r\n\r\n\t\tvar hash = buildQueryString(hashData)\r\n\t\tif (hash) path += \"#\" + hash\r\n\r\n\t\tif (supportsPushState) {\r\n\t\t\tif (options && options.replace) $window.history.replaceState(null, null, prefix + path)\r\n\t\t\telse $window.history.pushState(null, null, prefix + path)\r\n\t\t\t$window.onpopstate()\r\n\t\t}\r\n\t\telse $window.location.href = prefix + path\r\n\t}\r\n\r\n\tfunction defineRoutes(routes, resolve, reject) {\r\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\r\n\t\telse if (prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\r\n\t\tresolveRoute()\r\n\t\t\r\n\t\tfunction resolveRoute() {\r\n\t\t\tvar path = getPath()\r\n\t\t\tvar params = {}\r\n\t\t\tvar pathname = parsePath(path, params, params)\r\n\t\t\t\r\n\t\t\tfor (var route in routes) {\r\n\t\t\t\tvar matcher = new RegExp(\"^\" + route.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\r\n\r\n\t\t\t\tif (matcher.test(pathname)) {\r\n\t\t\t\t\tpathname.replace(matcher, function() {\r\n\t\t\t\t\t\tvar keys = route.match(/:[^\\/]+/g) || []\r\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\r\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve(routes[route], params, path, route)\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treject(path, params)\r\n\t\t}\r\n\t\treturn resolveRoute\r\n\t}\r\n\r\n\tfunction link(vnode) {\r\n\t\tvnode.dom.setAttribute(\"href\", prefix + vnode.attrs.href)\r\n\t\tvnode.dom.onclick = function(e) {\r\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\r\n\t\t\te.preventDefault()\r\n\t\t\te.redraw = false\r\n\t\t\tvar href = this.getAttribute(\"href\")\r\n\t\t\tif (href.indexOf(prefix) === 0) href = href.slice(prefix.length)\r\n\t\t\tsetPath(href, undefined, undefined)\r\n\t\t}\r\n\t}\r\n\r\n\treturn {setPrefix: setPrefix, getPath: getPath, setPath: setPath, defineRoutes: defineRoutes, link: link}\r\n}\n  })();\n});","\nrequire.register(\"mithril/stream.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    module.exports = require(\"./util/stream\")(console.log.bind(console))\n  })();\n});","\nrequire.register(\"mithril/util/stream.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nmodule.exports = function(log) {\r\n\tvar guid = 0, noop = function() {}, HALT = {}\r\n\tfunction createStream() {\r\n\t\tfunction stream() {\r\n\t\t\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0], undefined)\r\n\t\t\treturn stream._state.value\r\n\t\t}\r\n\t\tinitStream(stream)\r\n\r\n\t\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0], undefined)\r\n\r\n\t\treturn stream\r\n\t}\r\n\tfunction initStream(stream) {\r\n\t\tstream.constructor = createStream\r\n\t\tstream._state = {id: guid++, value: undefined, error: undefined, state: 0, derive: undefined, recover: undefined, deps: {}, parents: [], errorStream: undefined, endStream: undefined}\r\n\t\tstream[\"fantasy-land/map\"] = map, stream[\"fantasy-land/ap\"] = ap, stream[\"fantasy-land/of\"] = createStream\r\n\t\tstream.valueOf = valueOf, stream.toJSON = toJSON, stream.toString = valueOf\r\n\t\tstream.run = run, stream.catch = doCatch\r\n\r\n\t\tObject.defineProperties(stream, {\r\n\t\t\terror: {get: function() {\r\n\t\t\t\tif (!stream._state.errorStream) {\r\n\t\t\t\t\tvar errorStream = function() {\r\n\t\t\t\t\t\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, undefined, arguments[0])\r\n\t\t\t\t\t\treturn stream._state.error\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinitStream(errorStream)\r\n\t\t\t\t\tinitDependency(errorStream, [stream], noop, noop)\r\n\t\t\t\t\tstream._state.errorStream = errorStream\r\n\t\t\t\t}\r\n\t\t\t\treturn stream._state.errorStream\r\n\t\t\t}},\r\n\t\t\tend: {get: function() {\r\n\t\t\t\tif (!stream._state.endStream) {\r\n\t\t\t\t\tvar endStream = createStream()\r\n\t\t\t\t\tendStream[\"fantasy-land/map\"](function(value) {\r\n\t\t\t\t\t\tif (value === true) unregisterStream(stream), unregisterStream(endStream)\r\n\t\t\t\t\t\treturn value\r\n\t\t\t\t\t})\r\n\t\t\t\t\tstream._state.endStream = endStream\r\n\t\t\t\t}\r\n\t\t\t\treturn stream._state.endStream\r\n\t\t\t}}\r\n\t\t})\r\n\t}\r\n\tfunction updateStream(stream, value, error) {\r\n\t\tupdateState(stream, value, error)\r\n\t\tfor (var id in stream._state.deps) updateDependency(stream._state.deps[id], false)\r\n\t\tfinalize(stream)\r\n\t}\r\n\tfunction updateState(stream, value, error) {\r\n\t\terror = unwrapError(value, error)\r\n\t\tif (error !== undefined && typeof stream._state.recover === \"function\") {\r\n\t\t\tif (!resolve(stream, updateValues, true)) return\r\n\t\t}\r\n\t\telse updateValues(stream, value, error)\r\n\t\tstream._state.changed = true\r\n\t\tif (stream._state.state !== 2) stream._state.state = 1\r\n\t}\r\n\tfunction updateValues(stream, value, error) {\r\n\t\tstream._state.value = value\r\n\t\tstream._state.error = error\r\n\t}\r\n\tfunction updateDependency(stream, mustSync) {\r\n\t\tvar state = stream._state, parents = state.parents\r\n\t\tif (parents.length > 0 && parents.filter(active).length === parents.length && (mustSync || parents.filter(changed).length > 0)) {\r\n\t\t\tvar failed = parents.filter(errored)\r\n\t\t\tif (failed.length > 0) updateState(stream, undefined, failed[0]._state.error)\r\n\t\t\telse resolve(stream, updateState, false)\r\n\t\t}\r\n\t}\r\n\tfunction resolve(stream, update, shouldRecover) {\r\n\t\ttry {\r\n\t\t\tvar value = shouldRecover ? stream._state.recover() : stream._state.derive()\r\n\t\t\tif (value === HALT) return false\r\n\t\t\tupdate(stream, value, undefined)\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tupdate(stream, undefined, e.__error != null ? e.__error : e)\r\n\t\t\tif (e.__error == null) reportUncaughtError(stream, e)\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\tfunction unwrapError(value, error) {\r\n\t\tif (value != null && value.constructor === createStream) {\r\n\t\t\tif (value._state.error !== undefined) error = value._state.error\r\n\t\t\telse error = unwrapError(value._state.value, value._state.error)\r\n\t\t}\r\n\t\treturn error\r\n\t}\r\n\tfunction finalize(stream) {\r\n\t\tstream._state.changed = false\r\n\t\tfor (var id in stream._state.deps) stream._state.deps[id]._state.changed = false\r\n\t}\r\n\tfunction reportUncaughtError(stream, e) {\r\n\t\tif (Object.keys(stream._state.deps).length === 0) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tif (Object.keys(stream._state.deps).length === 0) log(e)\r\n\t\t\t}, 0)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction run(fn) {\r\n\t\tvar self = createStream(), stream = this\r\n\t\treturn initDependency(self, [stream], function() {\r\n\t\t\treturn absorb(self, fn(stream()))\r\n\t\t}, undefined)\r\n\t}\r\n\tfunction doCatch(fn) {\r\n\t\tvar self = createStream(), stream = this\r\n\t\tvar derive = function() {return stream._state.value}\r\n\t\tvar recover = function() {return absorb(self, fn(stream._state.error))}\r\n\t\treturn initDependency(self, [stream], derive, recover)\r\n\t}\r\n\tfunction combine(fn, streams) {\r\n\t\tif (streams.length > streams.filter(valid).length) throw new Error(\"Ensure that each item passed to m.prop.combine/m.prop.merge is a stream\")\r\n\t\treturn initDependency(createStream(), streams, function() {\r\n\t\t\tvar failed = streams.filter(errored)\r\n\t\t\tif (failed.length > 0) throw {__error: failed[0]._state.error}\r\n\t\t\treturn fn.apply(this, streams.concat([streams.filter(changed)]))\r\n\t\t}, undefined)\r\n\t}\r\n\tfunction absorb(stream, value) {\r\n\t\tif (value != null && value.constructor === createStream) {\r\n\t\t\tvar absorbable = value\r\n\t\t\tvar update = function() {\r\n\t\t\t\tupdateState(stream, absorbable._state.value, absorbable._state.error)\r\n\t\t\t\tfor (var id in stream._state.deps) updateDependency(stream._state.deps[id], false)\r\n\t\t\t}\r\n\t\t\tabsorbable[\"fantasy-land/map\"](update).catch(function(e) {\r\n\t\t\t\tupdate()\r\n\t\t\t\tthrow {__error: e}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif (absorbable._state.state === 0) return HALT\r\n\t\t\tif (absorbable._state.error) throw {__error: absorbable._state.error}\r\n\t\t\tvalue = absorbable._state.value\r\n\t\t}\r\n\t\treturn value\r\n\t}\r\n\r\n\tfunction initDependency(dep, streams, derive, recover) {\r\n\t\tvar state = dep._state\r\n\t\tstate.derive = derive\r\n\t\tstate.recover = recover\r\n\t\tstate.parents = streams.filter(notEnded)\r\n\r\n\t\tregisterDependency(dep, state.parents)\r\n\t\tupdateDependency(dep, true)\r\n\r\n\t\treturn dep\r\n\t}\r\n\tfunction registerDependency(stream, parents) {\r\n\t\tfor (var i = 0; i < parents.length; i++) {\r\n\t\t\tparents[i]._state.deps[stream._state.id] = stream\r\n\t\t\tregisterDependency(stream, parents[i]._state.parents)\r\n\t\t}\r\n\t}\r\n\tfunction unregisterStream(stream) {\r\n\t\tfor (var i = 0; i < stream._state.parents.length; i++) {\r\n\t\t\tvar parent = stream._state.parents[i]\r\n\t\t\tdelete parent._state.deps[stream._state.id]\r\n\t\t}\r\n\t\tfor (var id in stream._state.deps) {\r\n\t\t\tvar dependent = stream._state.deps[id]\r\n\t\t\tvar index = dependent._state.parents.indexOf(stream)\r\n\t\t\tif (index > -1) dependent._state.parents.splice(index, 1)\r\n\t\t}\r\n\t\tstream._state.state = 2 //ended\r\n\t\tstream._state.deps = {}\r\n\t}\r\n\r\n\tfunction map(fn) {return combine(function(stream) {return fn(stream())}, [this])}\r\n\tfunction ap(stream) {return combine(function(s1, s2) {return s1()(s2())}, [stream, this])}\r\n\tfunction valueOf() {return this._state.value}\r\n\tfunction toJSON() {return this._state.value != null && typeof this._state.value.toJSON === \"function\" ? this._state.value.toJSON() : this._state.value}\r\n\r\n\tfunction valid(stream) {return stream._state }\r\n\tfunction active(stream) {return stream._state.state === 1}\r\n\tfunction changed(stream) {return stream._state.changed}\r\n\tfunction notEnded(stream) {return stream._state.state !== 2}\r\n\tfunction errored(stream) {return stream._state.error}\r\n\r\n\tfunction reject(e) {\r\n\t\tvar stream = createStream()\r\n\t\tstream.error(e)\r\n\t\treturn stream\r\n\t}\r\n\r\n\tfunction merge(streams) {\r\n\t\treturn combine(function () {\r\n\t\t\treturn streams.map(function(s) {return s()})\r\n\t\t}, streams)\r\n\t}\r\n\tcreateStream[\"fantasy-land/of\"] = createStream\r\n\tcreateStream.merge = merge\r\n\tcreateStream.combine = combine\r\n\tcreateStream.reject = reject\r\n\tcreateStream.HALT = HALT\r\n\r\n\treturn createStream\r\n}\n  })();\n});","\nrequire.register(\"mithril/util/withAttr.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"mithril\");\n  (function() {\n    \"use strict\"\r\n\r\nmodule.exports = function(attrName, callback, context) {\r\n\treturn function(e) {\r\n\t\treturn callback.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\r\n\t}\r\n}\n  })();\n});","import Something from './something'\nimport * as m from 'mithril'\n\nlet LayoutComponent = {\n\tview: () => {\n\t\treturn m('.layout',\n\t\t\tm('header',\n\t\t\t\tm('h1.title', 'Heracles')\n\t\t\t),\n\t\t\tm('.content',\n\t\t\t\tm('a.button',\n\t\t\t\t\t{href: '#/entrainement'},\n\t\t\t\t\tm('span.text', 'Entrainement')\n\t\t\t\t),\n\t\t\t\tm('a.button',\n\t\t\t\t\t{href: '#/mensurations'},\n\t\t\t\t\tm('span.text', 'Mensurations')\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t}\n}\n\nlet MensurationsDashboard = {\n\tview: () => {\n\t\treturn m('.layout',\n\t\t\tm('header.accent',\n\t\t\t\tm('.leftActions',\n\t\t\t\t\tm('a', {href: '#/'}, m('span', 'Retour'))\n\t\t\t\t),\n\t\t\t\tm('h1.title', 'Mensurations'),\n\t\t\t\tm('.rightActions', [])\n\t\t\t),\n\t\t\tm('.content',\n\t\t\t\tnull\n\t\t\t)\n\t\t)\n\t}\n}\n\nlet EntrainementDashboard = {\n\tview: () => {\n\t\treturn m('.layout',\n\t\t\tm('header.accent',\n\t\t\t\tm('.leftActions',\n\t\t\t\t\tm('a', {href: '#/'}, m('span', 'Retour'))\n\t\t\t\t),\n\t\t\t\tm('h1.title', 'Entrainement'),\n\t\t\t\tm('.rightActions', [])\n\t\t\t),\n\t\t\tm('.content',\n\t\t\t\tm('.hero',\n\t\t\t\t\tm('h2', 'Entranement')\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t}\n}\n\nm.route.prefix('#')\nm.route(document.getElementById('app'), '/', {\n\t'/': LayoutComponent,\n\t'/entrainement': EntrainementDashboard,\n\t'/mensurations': MensurationsDashboard\n})\n","class Dog {\n  name: string;\n\n  constructor(name : string){\n    this.name = name;\n  }\n}\n\nexport default Dog;\n","/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    },\n\n    javascript: function(){\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function(script) { return script.text }).filter(function(text) { return text.length > 0 });\n      var srcScripts = scripts.filter(function(script) { return script.src });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function(script) { eval(script); });\n        }\n      }\n\n      srcScripts\n        .forEach(function(script) {\n          var src = script.src;\n          script.remove();\n          var newScript = document.createElement('script');\n          newScript.src = cacheBuster(src);\n          newScript.async = true;\n          newScript.onload = onLoad;\n          document.head.appendChild(newScript);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n"]}